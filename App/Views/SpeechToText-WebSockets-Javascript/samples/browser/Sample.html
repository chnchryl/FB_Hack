<!DOCTYPE html>
<html>
<head>
    <title>Hack a DONKEY</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="/../../../assets/css/main.css" />
        <script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
        <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
        <script type="text/javascript" src="graph.js"></script>
</head>
<body style="font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:13px;">
    <div id="warning">
        <h1 style="font-weight:500;">Speech Recognition SDK not found.</h1>
        <h2 style="font-weight:500;">Please execute <code>npm run bundle</code> and reload.</h2>
    </div>
    <!-- Header -->
			<header id="header" class="alt">
				<div class="logo"><a href="Sample.html">Hack <span>a DONKEY</span></a></div>
			</header>

		<!-- Banner -->
			<section id="banner">
				<div class="inner">
					<header>
						<h1>SPEAK</h1>
						<p>Record your voice<br />and discover your speech</p>
					</header>
						<!--<a href="record.html" class="button big scrolly">Start Recording</a>-->
            <button id="startBtn" class="button big scrolly" disabled="disabled">Start</button>
            <button onclick="saveTextAsFile()" id="stopBtn" class="button big scrolly" disabled="disabled">Stop</button>
            <input type="file" id="filePicker" accept=".wav" style="display:none"/>
          </br>
            <tr>
                <td align="right">Status:</td>
                <td align="left"><span id="statusDiv"></span></td>
            </tr>

					<!-- <a href="/SpeechToText-WebSockets-Javascript/samples/browser/Sample.html" class="button big scrolly">Start Recording</a> -->
				</div>
			</section>


      <div id="zzz">
          <table width="100%" style="color: white; background-color: black">
              <tr>
                  <td>
                      <table>
                          <tr>
                              <td><h2 style="color: white">Results:</h2></td>
                          </tr>
                          <tr>
                              <td>
                                  <textarea id="dreamtalks" style="display: inline-block;width:500px;height:200px"></textarea>
                              </td>
                          </tr>
                      </table>
                  </td>
                  <td>

                  </td>
              </tr>

          </table>

		  <div id="chartContainer" style="width:100%; height:280px"></div>
		  <button id="addDataPoint">Add Data Point</button>
		  <button id="updateDataPoint">Update Data Point</button>

      </div>

    <div id="content" style="display:none">
        <table width="100%">
            <tr>
                <td></td>
                <td>
                    <table style="display:none">
                        <tr>
                            <td>Results:</td>
                            <td>Current hypothesis:</td>
                        </tr>
                        <tr>
                            <td>
                                <textarea id="phraseDiv" style="display: inline-block;width:500px;height:200px"></textarea>
                            </td>
                            <td style="vertical-align: top">
                                <span id="hypothesisDiv" style="width:200px;height:200px;display:block;"></span>
                            </td>
                            <!-- <td>Filename to Save As:</td> -->
                            <!-- <td><input id="inputFileNameToSaveAs"></input></td> -->
                            <td><button onclick="saveTextAsFile()">Save Text to File</button></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>

    <!--save file -->
    <script>
    function saveTextAsFile()
{
	var textToWrite = document.getElementById("phraseDiv").value;
	var textFileAsBlob = new Blob([textToWrite], {type:'text/plain'});
	// var fileNameToSaveAs = document.getElementById("inputFileNameToSaveAs").value;

	var downloadLink = document.createElement("a");
	downloadLink.download = "testFile";
	downloadLink.innerHTML = "Download File";
	if (window.webkitURL != null)
	{
		// Chrome allows the link to be clicked
		// without actually adding it to the DOM.
		downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
	}
	else
	{
		// Firefox requires the link to be added to the DOM
		// before it can be clicked.
		downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
		downloadLink.onclick = destroyClickedElement;
		downloadLink.style.display = "none";
		document.body.appendChild(downloadLink);
	}

	downloadLink.click();
}
    </script>


    <!-- SDK REFERENCE -->
    <script src="../../distrib/speech.sdk.bundle.js"></script>


    <!--Scripts-->
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <script src="../../../assets/js/jquery.min.js"></script>
    <script src="../../../assets/js/jquery.scrolly.min.js"></script>
    <script src="../../../assets/js/jquery.scrollex.min.js"></script>
    <script src="../../../assets/js/skel.min.js"></script>
    <script src="../../../assets/js/util.js"></script>
    <script src="../../../assets/js/main.js"></script>
</body>
</html>
